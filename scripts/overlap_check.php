<?php

require_once __DIR__ . '/vendor/autoload.php';

$offset = [2,3];

//foreach ($offset as $offset) {

    echo "\n";
//    echo "Offset " . $offset . "\n";
    $reader = \League\Csv\Reader::createFromPath("/Users/dholovii/code/mysql-dumper/sources/MOB-407-with-amounts-group2 - Group 2.csv");

    $reader->setHeaderOffset(0);

    $overlap = [];
    $ids = [21632695,23779535,24758955,25982165,26660425,26672565,26883205,28043525,
        28734075,28962545,30514985,30758905,30902485,31959275,31966225,32085815,32264195,32278625,
        32456205,32471045,32626005,32630085,32833795,32875775,32889945,33603055,33605355,33855105,34189165,
        34223465,34315465,34317275,34322755,34459185,34471365,34477255,34478685,34573465,34752135,34784385,34847755,34950065,34953025,34960795,34967105,34968615,34972845,34981115,34981365,35134695,35134995,35273445,35273635,35275665,35276015,35312185,35320905,35351485,35365105,35366985,35367605,35371005,35798065,35798455,35829055,35830525,35920425,35925175,35925905,36054245,36215685,36218515,36489955,36667285,36805735,36806045,36836285,36883125,36895425,37073405,37076415,37164495,37171075,37310365,37315155,37434165,38059365,38165175,38169625,38171015,38307375];

    foreach ($reader->getRecords() as $record) {
        if (in_array((int)$record['driver_id'], $ids)) {
            $overlap[] = $record['driver_id'];
        }
    }

    $diff = array_diff($ids, $overlap);
    echo 'Diff: ' . count($diff);
    echo "\n";
    echo "Original: " . count($ids);
    echo "\n";

    echo implode(',', $diff) . "\n";
//}
